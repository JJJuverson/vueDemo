{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Form\\components\\FormDemo.vue?vue&type=style&index=0&id=44517ca2&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Form\\components\\FormDemo.vue","mtime":1579599613000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmRlbW8tcnVsZUZvcm0gewogIGZsZXg6IDAgMSAzMCU7CiAgbWluLXdpZHRoOiA0MDBweDsKICBtYXJnaW46IDUwcHggYXV0bzsKICBwYWRkaW5nOiAyMHB4OwogIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMTczLDIxNiwyMzAsIDEpOwp9CgouZWwtZm9ybS1pdGVtIHsKICB0ZXh0LWFsaWduOiBsZWZ0Owp9CgoubGluZSB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGZvbnQtc2l6ZTogMzBweDsKfQo="},{"version":3,"sources":["FormDemo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"FormDemo.vue","sourceRoot":"src/views/Form/components","sourcesContent":["<template>\n  <!-- 该处为一个form表单示例 -->\n  <el-form :inline=\"false\" :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleFormDemo\" label-width=\"auto\" class=\"demo-ruleForm\">\n      <el-form-item label=\"活动名称\" prop=\"name\" >\n        <el-input v-model=\"ruleForm.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"活动区域\" prop=\"region\" >\n        <el-select v-model=\"ruleForm.region\" placeholder=\"请选择活动区域\">\n          <el-option label=\"北京\" value=\"北京\"></el-option>\n          <el-option label=\"上海\" value=\"上海\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"活动时间\" required>\n        <el-col :span=\"11\">\n          <el-form-item prop=\"date1\">\n            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"ruleForm.date1\" style=\"width: 100%;\"></el-date-picker>\n          </el-form-item>\n        </el-col>\n        <el-col class=\"line\" :span=\"2\">-</el-col>\n        <el-col :span=\"11\">\n          <el-form-item prop=\"date2\">\n            <el-time-picker type=\"date\" placeholder=\"选择时间\" v-model=\"ruleForm.date2\" style=\"width: 100%;\"></el-time-picker>\n          </el-form-item>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"即时配送\" prop=\"delivery\">\n        <el-switch v-model=\"ruleForm.delivery\"></el-switch>\n      </el-form-item>\n      <el-form-item label=\"活动性质\" prop=\"type\">\n        <el-checkbox-group v-model=\"ruleForm.type\">\n          <el-checkbox label=\"美食/餐厅线上活动\" name=\"type\"></el-checkbox>\n          <el-checkbox label=\"地推活动\" name=\"type\"></el-checkbox>\n          <el-checkbox label=\"线下主题活动\" name=\"type\"></el-checkbox>\n          <el-checkbox label=\"单纯品牌曝光\" name=\"type\"></el-checkbox>\n        </el-checkbox-group>\n      </el-form-item>\n      <el-form-item label=\"特殊资源\" prop=\"resource\">\n        <el-radio-group v-model=\"ruleForm.resource\">\n          <el-radio label=\"线上品牌商赞助\"></el-radio>\n          <el-radio label=\"线下场地免费\"></el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"活动形式\" prop=\"desc\">\n        <el-input type=\"textarea\" v-model=\"ruleForm.desc\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm\">立即创建</el-button>\n        <el-button @click=\"resetForm\">重置</el-button>\n      </el-form-item>\n    </el-form>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue, Watch, Ref } from 'vue-property-decorator'\nimport { Form } from 'element-ui'\nimport util from '@/util/index'\n\n@Component\nexport default class FormDemo extends Vue{\n  @Ref('ruleFormDemo') readonly ruleFormDemo!:Form\n  activities:Array<any> = []\n\n  ruleForm = {\n    name: '',\n    region: '',\n    date1: '',\n    date2: '',\n    delivery: false,\n    type: [],\n    resource: '',\n    desc: ''\n  }\n  rules = {\n    name: [\n      { required: true, message: '请输入活动名称', trigger: 'blur' },\n      { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n    ],\n    region: [\n      { required: true, message: '请选择活动区域', trigger: 'change' }\n    ],\n    date1: [\n      { type: 'date', required: true, message: '请选择日期', trigger: 'change' }\n    ],\n    date2: [\n      { type: 'date', required: true, message: '请选择时间', trigger: 'change' }\n    ],\n    type: [\n      { type: 'array', required: true, message: '请至少选择一个活动性质', trigger: 'change' }\n    ],\n    resource: [\n      { required: true, message: '请选择活动资源', trigger: 'change' }\n    ],\n    desc: [\n      { required: true, message: '请填写活动形式', trigger: 'blur' }\n    ]\n  }\n\n  deepClone(source) {\n    const targetObj = source.constructor === Array ? [] : {}\n    Object.keys(source).forEach(keys => {\n      if (source[keys] && typeof source[keys] === 'object') {\n        targetObj[keys] = this.deepClone(source[keys])\n      } else {\n        targetObj[keys] = source[keys]\n      }\n    })\n    return targetObj\n  }\n\n  public submitForm() {\n    this.ruleFormDemo.validate((valid) => {\n      if (valid) {\n        this.ruleForm['date3'] = util.formatDate(this.ruleForm['date2'])\n        this.$emit('getFormData', this.deepClone(this.ruleForm))  // 该处有坑，必须深拷贝，否则TableData中数据会有问题\n        // alert('submit!');\n      } else {\n        console.log('error submit!!');\n        return false;\n      }\n    });\n  }\n\n  public resetForm() {\n    this.ruleFormDemo.resetFields();\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.demo-ruleForm {\n  flex: 0 1 30%;\n  min-width: 400px;\n  margin: 50px auto;\n  padding: 20px;\n  border: 2px solid rgba(173,216,230, 1);\n}\n\n.el-form-item {\n  text-align: left;\n}\n\n.line {\n  text-align: center;\n  font-size: 30px;\n}\n</style>"]}]}