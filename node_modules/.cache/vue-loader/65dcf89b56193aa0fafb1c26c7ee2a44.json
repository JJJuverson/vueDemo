{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Cases\\components\\EditAdmin\\EditAdmin.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Cases\\components\\EditAdmin\\EditAdmin.vue","mtime":1579599613000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL2luZGV4JwoKaW50ZXJmYWNlIEVkaXQgewogIGZvcm06IE9iamVjdAogIGZvcm1MYWJlbFdpZHRoOiBTdHJpbmcKICBkaWFsb2dGb3JtVmlzaWJsZTogQm9vbGVhbgogIGxvYWRpbmc6IEJvb2xlYW4KfQoKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBBZGRBZG1pbiBleHRlbmRzIFZ1ZSBpbXBsZW1lbnRzIEVkaXR7CiAgQFByb3AoKSBwcml2YXRlIGVkaXRWaXNpYmxlITogQm9vbGVhbgogIEBQcm9wKCkgcHJpdmF0ZSByb3cgITogT2JqZWN0CgogIGZvcm1MYWJlbFdpZHRoID0gJzEyMHB4JwogIGRpYWxvZ0Zvcm1WaXNpYmxlID0gdGhpcy5lZGl0VmlzaWJsZQogIGxvYWRpbmcgPSBmYWxzZQoKICAvLyDor6XlpITku6PnoIHkvb/nlKjkuobkvqblkKzlmajvvIzkv67mlLnkuLrorqHnrpflsZ7mgKfmm7TliqDlkIjnkIYKICBAV2F0Y2goJ2VkaXRWaXNpYmxlJykKICBvblZpc2libGVDaGFuZ2UodmFsOiBCb29sZWFuLCBvbGRWYWw6IEJvb2xlYW4pIHsKICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB2YWwKICB9CgogIEBXYXRjaCgnZGlhbG9nRm9ybVZpc2libGUnKQogIG9uRGlhbG9nRm9ybVZpc2libGVDaGFuZ2UodmFsOiBCb29sZWFuLCBvbGRWYWw6IEJvb2xlYW4pIHsKICAgIGlmICghdmFsKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2dldENoaWxkRGF0YScsIHZhbCkKICAgIH0KICB9CgogIC8vIOiuoeeul+WxnuaAp++8jOaLv+WIsOimgeS/ruaUueeahOaVsOaNrgogIGdldCBmb3JtKCkgewogICAgcmV0dXJuIHRoaXMucm93CiAgfQoKICAvLyDnvJbovpHmlbDmja7lubbkv67mlLkKICBwdWJsaWMgZWRpdEFkbWluKCkgewogICAgbGV0IHBhcmFtcyA9IHRoaXMuZm9ybQogICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgc2VydmljZS5wdXRBZG1pbkxpc3QocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQogICAgICBsZXQgeyBjb2RlLCBtc2cgfSA9IHJlcy5kYXRhCiAgICAgIGlmIChjb2RlID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pCiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgnZmx1c2hMaXN0JykgIC8vIOS/ruaUueWQjuWIt+aWsOaVsOaNrgogICAgfSkgCiAgfQp9Cg=="},{"version":3,"sources":["EditAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditAdmin.vue","sourceRoot":"src/views/News/components/EditAdmin","sourcesContent":["<template>\n  <el-dialog title=\"编辑账号\" :visible.sync=\"dialogFormVisible\" v-dialogDrag width=\"25%\">\n    <el-form :model=\"form\">\n      <el-form-item label=\"账号ID\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.id\" autocomplete=\"off\" class=\"formItem\" placeholder=\"请输入账号id\" disabled></el-input>\n      </el-form-item>\n      <el-form-item label=\"名称\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.name\" autocomplete=\"off\" class=\"formItem\" placeholder=\"请输入账号名称\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"email\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.email\" autocomplete=\"off\" class=\"formItem\" placeholder=\"请输入邮箱\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button size=\"medium\" @click=\"dialogFormVisible = false\" >取 消</el-button>\n      <el-button size=\"medium\" type=\"primary\" @click=\"editAdmin\" :loading=\"loading\">编辑</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport service from '@/service/index'\n\ninterface Edit {\n  form: Object\n  formLabelWidth: String\n  dialogFormVisible: Boolean\n  loading: Boolean\n}\n\n@Component\nexport default class AddAdmin extends Vue implements Edit{\n  @Prop() private editVisible!: Boolean\n  @Prop() private row !: Object\n\n  formLabelWidth = '120px'\n  dialogFormVisible = this.editVisible\n  loading = false\n\n  // 该处代码使用了侦听器，修改为计算属性更加合理\n  @Watch('editVisible')\n  onVisibleChange(val: Boolean, oldVal: Boolean) {\n    this.dialogFormVisible = val\n  }\n\n  @Watch('dialogFormVisible')\n  onDialogFormVisibleChange(val: Boolean, oldVal: Boolean) {\n    if (!val) {\n      this.$emit('getChildData', val)\n    }\n  }\n\n  // 计算属性，拿到要修改的数据\n  get form() {\n    return this.row\n  }\n\n  // 编辑数据并修改\n  public editAdmin() {\n    let params = this.form\n    this.loading = true\n    service.putAdminList(params).then(res => {\n      this.loading = false\n      this.dialogFormVisible = false\n      let { code, msg } = res.data\n      if (code == 0) {\n        this.$message({\n          message: msg,\n          type: 'success'\n        })\n      }\n      this.$emit('flushList')  // 修改后刷新数据\n    }) \n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.formItem {\n  width: 200px;\n  float: left\n}\n</style>"]}]}