{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Login\\index.vue","mtime":1581585213970},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9pbmRleCcKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7IGFzeW5jUm91dGVzIH0gZnJvbSAnQC9yb3V0ZXIvaW5kZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvZ2luaW5nOiBmYWxzZSwKICAgICAgcnVsZUZvcm06IHsKICAgICAgICBuYW1lOiAnYWRtaW4nLAogICAgICAgIHBhc3M6ICdhZG1pbicKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6LSm5Y+3JywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgXSwKICAgICAgICBwYXNzOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgXQogICAgICB9LAogICAgICByZW1lbWJlcjogdHJ1ZQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgbGV0IHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucnVsZUZvcm0pCiAgICAgICAgICB0aGlzLmxvZ2luaW5nID0gdHJ1ZTsKICAgICAgICAgIHNlcnZpY2UubG9naW4ocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGxldCB7IGNvZGUsIG1zZyA9ICcnLCByZXN1bHQgPSB7fSB9ID0gcmVzWydkYXRhJ107CiAgICAgICAgICAgIGlmIChjb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbmFtZScsIHRoaXMucnVsZUZvcm0ubmFtZSkKICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYXNzJywgdGhpcy5ydWxlRm9ybS5wYXNzKQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZGFzaGJvYXJkJykKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXBwL1VwZGF0ZVJlbWVtYmVyUGFzcycsIHRoaXMucmVtZW1iZXIpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubG9naW5pbmcgPSBmYWxzZQogICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLAogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgfSkKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAnZXJyb3Igc3VibWl0ISEnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgfSkKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyDliKTmlq3mmK/lkKbmmK/np7vliqjnq6/miZPlvIAKICAgIF9pc01vYmlsZSgpIHsKICAgICAgbGV0IGZsYWcgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8ocGhvbmV8cGFkfHBvZHxpUGhvbmV8aVBvZHxpb3N8aVBhZHxBbmRyb2lkfE1vYmlsZXxCbGFja0JlcnJ5fElFTW9iaWxlfE1RUUJyb3dzZXJ8SlVDfEZlbm5lY3x3T1NCcm93c2VyfEJyb3dzZXJOR3xXZWJPU3xTeW1iaWFufFdpbmRvd3MgUGhvbmUpL2kpCiAgICAgIHJldHVybiBmbGFnOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuX2lzTW9iaWxlKCkpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FwcC9VcGRhdGVJc0ZvbGQnLCB0cnVlKSAgLy8g56e75Yqo56uv5omT5byA5YiZ5oqY5Y+g5L6n6L655qCPCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n  <div class=\"login\">\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"0px\" class=\"loginForm\">\n      <h1 class=\"loginTitle\">食品安全后台系统</h1>\n      <el-form-item prop=\"name\">\n        <el-input type=\"text\" v-model=\"ruleForm.name\" placeholder=\"请输入账号\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"pass\">\n        <el-input type=\"password\" v-model=\"ruleForm.pass\" placeholder=\"请输入密码\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <div class=\"loginRem\">\n        <el-checkbox label=\"记住密码 (账号/密码:admin/admin)\" v-model=\"remember\"></el-checkbox>\n      </div>\n      <!-- <div class=\"loginRem\" style=\"font-size: 0.3rem; margin-top:-15px\">\n        注: 两个账号对应不同的路由权限\n      </div> -->\n      <el-form-item>\n        <el-button class=\"loginButton\" type=\"primary\" @click=\"submitForm('ruleForm')\" :loading=\"logining\">登录</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport service from '@/service/index'\nimport { mapGetters, mapActions } from 'vuex'\nimport { asyncRoutes } from '@/router/index'\n\nexport default {\n  data() {\n    return {\n      logining: false,\n      ruleForm: {\n        name: 'admin',\n        pass: 'admin'\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入账号', trigger: 'blur' },\n        ],\n        pass: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n        ]\n      },\n      remember: true\n    };\n  },\n\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let params = Object.assign({}, this.ruleForm)\n          this.logining = true;\n          service.login(params).then(res => {\n            let { code, msg = '', result = {} } = res['data'];\n            if (code === 0) {\n              sessionStorage.setItem('name', this.ruleForm.name)\n              sessionStorage.setItem('pass', this.ruleForm.pass)\n              this.$router.push('/dashboard')\n              this.$store.dispatch('app/UpdateRememberPass', this.remember)\n            } else {\n              this.$message({\n                message: msg,\n                type: 'error',\n                duration: 1000\n              })\n            }\n            this.logining = false\n          }).catch(err => {\n            this.$message({\n              message: err,\n              type: 'error',\n              duration: 1000\n            })\n            console.log(err)\n          });\n        } else {\n          this.$message({\n            message: 'error submit!!',\n            type: 'error',\n            duration: 1000\n          })\n          return false;\n        }\n      });\n    },\n\n    // 判断是否是移动端打开\n    _isMobile() {\n      let flag = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)\n      return flag;\n    }\n\n  },\n\n  mounted() {\n    if (this._isMobile()) {\n      this.$store.dispatch('app/UpdateIsFold', true)  // 移动端打开则折叠侧边栏\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.login {\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n  font-weight: bold;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-image: url('../../../public/img/background.jpeg');\n  background-size: 100% 100%;\n  &Form {\n    -webkit-border-radius: 20px;\n    border-radius: 20px;\n    -moz-border-radius: 20px;\n    background-clip: padding-box;\n    margin: 180px auto;\n    width: 350px;\n    padding: 35px 50px 20px 50px;\n    background-image: linear-gradient(to right, rgba(\t245,245,220,0.9), rgba(255,255,224,0.85));\n    border: 1px solid #eaeaea;\n    // box-shadow: 0 0 5px #AFEEEE; \n  }\n  &Title {\n    margin: 0 0 20px 0;\n    text-align: center;\n    font-size: 1.8rem;\n  }\n  &Button {\n    width: 50%;\n  }\n  &Rem {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: flex-start;\n    margin-bottom: 20px;\n    // border: 1px solid red\n  }\n}\n\n</style>"]}]}