{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\src\\views\\Charts\\components\\PieChart.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\src\\views\\Charts\\components\\PieChart.vue","mtime":1579599613000},{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgppbXBvcnQgeyBWdWUsIENvbXBvbmVudCwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgbXlNaXhpbnMgZnJvbSAnLi4vbWl4aW5zL2NhbGVuZGVyUGllUmVzaXplJwppbXBvcnQgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJwppbXBvcnQgJ2VjaGFydHMvbGliL0Nvb3JkaW5hdGVTeXN0ZW0nCgpAQ29tcG9uZW50KHsKICBtaXhpbnM6IFtteU1peGluc10KfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZUNoYXJ0IGV4dGVuZHMgVnVlewogIEBQcm9wKCkgcHJpdmF0ZSBpZCAhOiBzdHJpbmcKICBAUHJvcCgpIHByaXZhdGUgd2lkdGggITogU3RyaW5nIAogIEBQcm9wKCkgcHJpdmF0ZSBoZWlnaHQgITogU3RyaW5nIAoKICBwaWVSYWRpdXMgPSAzMDsKICBzY2F0dGVyRGF0YSA9IHRoaXMuZ2V0VmlydHVsRGF0YSgpOwogIHBpZUluaXRpYWxpemVkID0gZmFsc2UKCiAgcHVibGljIGdldFZpcnR1bERhdGEoKSB7CiAgICB2YXIgZGF0ZSA9ICtlY2hhcnRzWydudW1iZXInXS5wYXJzZURhdGUoJzIwMTctMDItMDEnKTsKICAgIHZhciBlbmQgPSArZWNoYXJ0c1snbnVtYmVyJ10ucGFyc2VEYXRlKCcyMDE3LTAzLTAxJyk7CiAgICB2YXIgZGF5VGltZSA9IDM2MDAgKiAyNCAqIDEwMDA7CiAgICB2YXIgZGF0YTpBcnJheTxhbnk+ID0gW107CiAgICBmb3IgKHZhciB0aW1lID0gZGF0ZTsgdGltZSA8IGVuZDsgdGltZSArPSBkYXlUaW1lKSB7CiAgICAgIGRhdGEucHVzaChbCiAgICAgICAgZWNoYXJ0c1snZm9ybWF0J10uZm9ybWF0VGltZSgneXl5eS1NTS1kZCcsIHRpbWUpLAogICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKQogICAgICBdKTsKICAgIH0KICAgIHJldHVybiBkYXRhOwogIH0KCiAgcHVibGljIGdldFBpZVNlcmllcyhzY2F0dGVyRGF0YSwgY2hhcnQpIHsKICAgIHJldHVybiBlY2hhcnRzWyd1dGlsJ10ubWFwKHNjYXR0ZXJEYXRhLCAoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgdmFyIGNlbnRlciA9IGNoYXJ0LmNvbnZlcnRUb1BpeGVsKCdjYWxlbmRhcicsIGl0ZW0pOwogICAgICByZXR1cm4gewogICAgICAgIGlkOiBpbmRleCArICdwaWUnLAogICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgIGNlbnRlcjogY2VudGVyLAogICAgICAgIGxhYmVsOiB7CiAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgZm9ybWF0dGVyOiAne2N9JywKICAgICAgICAgICAgcG9zaXRpb246ICdpbnNpZGUnCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByYWRpdXM6IHRoaXMucGllUmFkaXVzLAogICAgICAgIGRhdGE6IFsKICAgICAgICAgIHtuYW1lOiAn5bel5L2cJywgdmFsdWU6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI0KX0sCiAgICAgICAgICB7bmFtZTogJ+WoseS5kCcsIHZhbHVlOiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNCl9LAogICAgICAgICAge25hbWU6ICfnnaHop4knLCB2YWx1ZTogTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjQpfQogICAgICAgIF0KICAgICAgfTsKICAgIH0pOwogIH0KCiAgcHVibGljIGluaXRDaGFydCgpIHsKICAgIHRoaXMuY2hhcnQgPSBlY2hhcnRzLmluaXQoPEhUTUxEaXZFbGVtZW50IHwgSFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkpCiAgICAKICAgIHZhciBjZWxsU2l6ZSA9IFs4MCwgODBdOwoKICAgIHZhciBvcHRpb24gPSB7CiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzNDRiNTgnLAogICAgICB0aXRsZTogewogICAgICAgIHRleHQ6ICfmr4/ml6XnlJ/mtLsnLAogICAgICAgIHg6ICcyMCcsCiAgICAgICAgdG9wOiAnMjAnLAogICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgY29sb3I6ICcjZmZmJywKICAgICAgICAgIGZvbnRTaXplOiAnMjInCiAgICAgICAgfQogICAgICB9LAogICAgICB0b29sdGlwIDoge30sCiAgICAgIGxlZ2VuZDogewogICAgICAgIGRhdGE6IFsn5bel5L2cJywgJ+WoseS5kCcsICfnnaHop4knXSwKICAgICAgICBib3R0b206IDIwCiAgICAgIH0sCiAgICAgIGNhbGVuZGFyOiB7CiAgICAgICAgdG9wOiAnbWlkZGxlJywKICAgICAgICBsZWZ0OiAnY2VudGVyJywKICAgICAgICBvcmllbnQ6ICd2ZXJ0aWNhbCcsCiAgICAgICAgY2VsbFNpemU6IGNlbGxTaXplLAogICAgICAgIHllYXJMYWJlbDogewogICAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgZm9udFNpemU6IDMwCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkYXlMYWJlbDogewogICAgICAgICAgbWFyZ2luOiAyMCwKICAgICAgICAgIGZpcnN0RGF5OiAxLAogICAgICAgICAgbmFtZU1hcDogWyfmmJ/mnJ/ml6UnLCAn5pif5pyf5LiAJywgJ+aYn+acn+S6jCcsICfmmJ/mnJ/kuIknLCAn5pif5pyf5ZubJywgJ+aYn+acn+S6lCcsICfmmJ/mnJ/lha0nXQogICAgICAgIH0sCiAgICAgICAgbW9udGhMYWJlbDogewogICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICB9LAogICAgICAgIHJhbmdlOiBbJzIwMTctMDInXQogICAgICB9LAogICAgICBzZXJpZXM6IFt7CiAgICAgICAgaWQ6ICdsYWJlbCcsCiAgICAgICAgdHlwZTogJ3NjYXR0ZXInLAogICAgICAgIGNvb3JkaW5hdGVTeXN0ZW06ICdjYWxlbmRhcicsCiAgICAgICAgc3ltYm9sU2l6ZTogMSwKICAgICAgICBsYWJlbDogewogICAgICAgICAgbm9ybWFsOiB7CiAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgICAgICAgIHJldHVybiBlY2hhcnRzWydmb3JtYXQnXS5mb3JtYXRUaW1lKCdkZCcsIHBhcmFtcy52YWx1ZVswXSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9mZnNldDogWy1jZWxsU2l6ZVswXSAvIDIgKyAxMCwgLWNlbGxTaXplWzFdIC8gMiArIDEwXSwKICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICcjMDAwJywKICAgICAgICAgICAgICBmb250U2l6ZTogMTQKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGF0YTogdGhpcy5zY2F0dGVyRGF0YQogICAgICB9XQogICAgfTsKICAgIAogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5waWVJbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgdGhpcy5jaGFydC5zZXRPcHRpb24ob3B0aW9uKQogICAgICAgIHRoaXMuY2hhcnQuc2V0T3B0aW9uKHsKICAgICAgICAgICAgc2VyaWVzOiB0aGlzLmdldFBpZVNlcmllcyh0aGlzLnNjYXR0ZXJEYXRhLCB0aGlzLmNoYXJ0KQogICAgICAgIH0pOwogICAgfSwgMTApOwogIH0KCiAgcHJpdmF0ZSBtb3VudGVkICgpIHsKICAgIHRoaXMuaW5pdENoYXJ0KCkKICB9CgogIC8vIHByaXZhdGUgYmVmb3JlRGVzdHJveSgpIHsKICAvLyAgIGlmICghdGhpcy5jaGFydCkgewogIC8vICAgICByZXR1cm4KICAvLyAgIH0KICAvLyAgIHRoaXMuY2hhcnQuZGlzcG9zZSgpCiAgLy8gICB0aGlzLmNoYXJ0ID0gbnVsbAogIC8vIH0KfQo="},{"version":3,"sources":["PieChart.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PieChart.vue","sourceRoot":"src/views/Charts/components","sourcesContent":["<template>\n  <div :id=\"id\" :style=\"{width: width, height: height}\"></div>\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Component, Prop } from 'vue-property-decorator';\nimport myMixins from '../mixins/calenderPieResize'\nimport echarts from 'echarts'\nimport 'echarts/lib/CoordinateSystem'\n\n@Component({\n  mixins: [myMixins]\n})\nexport default class LineChart extends Vue{\n  @Prop() private id !: string\n  @Prop() private width !: String \n  @Prop() private height !: String \n\n  pieRadius = 30;\n  scatterData = this.getVirtulData();\n  pieInitialized = false\n\n  public getVirtulData() {\n    var date = +echarts['number'].parseDate('2017-02-01');\n    var end = +echarts['number'].parseDate('2017-03-01');\n    var dayTime = 3600 * 24 * 1000;\n    var data:Array<any> = [];\n    for (var time = date; time < end; time += dayTime) {\n      data.push([\n        echarts['format'].formatTime('yyyy-MM-dd', time),\n        Math.floor(Math.random() * 10000)\n      ]);\n    }\n    return data;\n  }\n\n  public getPieSeries(scatterData, chart) {\n    return echarts['util'].map(scatterData, (item, index) => {\n      var center = chart.convertToPixel('calendar', item);\n      return {\n        id: index + 'pie',\n        type: 'pie',\n        center: center,\n        label: {\n          normal: {\n            formatter: '{c}',\n            position: 'inside'\n          }\n        },\n        radius: this.pieRadius,\n        data: [\n          {name: '工作', value: Math.round(Math.random() * 24)},\n          {name: '娱乐', value: Math.round(Math.random() * 24)},\n          {name: '睡觉', value: Math.round(Math.random() * 24)}\n        ]\n      };\n    });\n  }\n\n  public initChart() {\n    this.chart = echarts.init(<HTMLDivElement | HTMLCanvasElement>document.getElementById(this.id))\n    \n    var cellSize = [80, 80];\n\n    var option = {\n      backgroundColor: '#344b58',\n      title: {\n        text: '每日生活',\n        x: '20',\n        top: '20',\n        textStyle: {\n          color: '#fff',\n          fontSize: '22'\n        }\n      },\n      tooltip : {},\n      legend: {\n        data: ['工作', '娱乐', '睡觉'],\n        bottom: 20\n      },\n      calendar: {\n        top: 'middle',\n        left: 'center',\n        orient: 'vertical',\n        cellSize: cellSize,\n        yearLabel: {\n          show: false,\n          textStyle: {\n            fontSize: 30\n          }\n        },\n        dayLabel: {\n          margin: 20,\n          firstDay: 1,\n          nameMap: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\n        },\n        monthLabel: {\n          show: false\n        },\n        range: ['2017-02']\n      },\n      series: [{\n        id: 'label',\n        type: 'scatter',\n        coordinateSystem: 'calendar',\n        symbolSize: 1,\n        label: {\n          normal: {\n            show: true,\n            formatter: function (params) {\n              return echarts['format'].formatTime('dd', params.value[0]);\n            },\n            offset: [-cellSize[0] / 2 + 10, -cellSize[1] / 2 + 10],\n            textStyle: {\n              color: '#000',\n              fontSize: 14\n            }\n          }\n        },\n        data: this.scatterData\n      }]\n    };\n    \n    setTimeout(() => {\n        this.pieInitialized = true;\n        this.chart.setOption(option)\n        this.chart.setOption({\n            series: this.getPieSeries(this.scatterData, this.chart)\n        });\n    }, 10);\n  }\n\n  private mounted () {\n    this.initChart()\n  }\n\n  // private beforeDestroy() {\n  //   if (!this.chart) {\n  //     return\n  //   }\n  //   this.chart.dispose()\n  //   this.chart = null\n  // }\n}\n</script>"]}]}