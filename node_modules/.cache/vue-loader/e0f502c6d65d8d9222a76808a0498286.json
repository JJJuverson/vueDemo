{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Home\\components\\HeadEdit\\HeadEdit.vue?vue&type=style&index=0&id=4ba1871c&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Home\\components\\HeadEdit\\HeadEdit.vue","mtime":1581758461560},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5mb3JtSXRlbSB7CiAgd2lkdGg6IDIwMHB4OwogIGZsb2F0OiBsZWZ0Owp9CgouYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQgewogIGJvcmRlcjogMXB4IGRhc2hlZCAjZDlkOWQ5OwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkOmhvdmVyIHsKICBib3JkZXItY29sb3I6IHJnYigxNTMsIDY0LCAyNTUpOwp9Ci5hdmF0YXItdXBsb2FkZXItaWNvbiB7CiAgZm9udC1zaXplOiAyOHB4OwogIGNvbG9yOiAjOGM5MzlkOwogIHdpZHRoOiAxMjBweDsKICBoZWlnaHQ6IDEyMHB4OwogIGxpbmUtaGVpZ2h0OiAxMjBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYm9yZGVyLXJhZGl1czogMTAwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNzMsMjE2LDIzMCwgMSk7Cn0KCi5hdmF0YXIgewogIHdpZHRoOiAxMjBweDsKICBoZWlnaHQ6IDEyMHB4OwogIGRpc3BsYXk6IGJsb2NrOwogIGJvcmRlci1yYWRpdXM6IDEwMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTczLDIxNiwyMzAsIDEpOwp9Cg=="},{"version":3,"sources":["HeadEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeadEdit.vue","sourceRoot":"src/views/Home/components/HeadEdit","sourcesContent":["<template>\n  <el-dialog title=\"编辑功能\" :visible.sync=\"visible\" v-dialogDrag width=\"25%\">\n    <el-form ref=\"form\">\n      <el-form-item label=\"头像\" :label-width=\"labelWidth\">\n        <el-upload\n          class=\"avatar-uploader formItem\"\n          action=\"https://www.baidu.com\"\n          :show-file-list=\"false\"\n          :on-success=\"handleAvatarSuccess\"\n          :on-error=\"handleAvatarError\"\n          :before-upload=\"beforeAvatarUpload\">\n          <img v-if=\"avatarUrl\" :src=\"avatarUrl\" class=\"avatar\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n      </el-form-item>\n    </el-form>\n\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button size=\"medium\" type=\"primary\" @click=\"visible = false\" >取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\n\n@Component\nexport default class HeadEdit extends Vue{\n  @Prop() dialogVisible !: boolean\n  @Prop() avatarUrl !: string\n\n  visible: boolean = false\n  labelWidth: string = '120px'\n\n  @Watch('visible')\n  onVisibleChanged(val) {\n    if (!val) {\n      this.$emit('closeDialog', val)\n    }\n  }\n\n  @Watch('dialogVisible')\n  onDialogVisibleChanged(val) {\n    this.visible = val\n  }\n\n  public handleAvatarSuccess(res, file) {\n   let newAvatar = 'https://s3.amazonaws.com/uifaces/faces/twitter/primozcigler/128.jpg'  /*该处仅用于模拟功能，实际开发需换成真实url*/\n\n    this.$emit('changeAvatar', newAvatar)\n    this.$message.info('该处仅用于模拟该功能实现!')\n  }\n\n  public handleAvatarError(res) {\n    let newAvatar = 'https://s3.amazonaws.com/uifaces/faces/twitter/primozcigler/128.jpg'  // 该处仅用于模拟功能，实际开发需换成真实url*/\n    this.$emit('changeAvatar', newAvatar)\n    this.$message.info('该处仅用于模拟该功能实现!')\n  }\n\n  public beforeAvatarUpload(file) {\n    const isJPG = file.type === 'image/jpeg';\n    const isLt2M = file.size / 1024 / 1024 < 2;\n\n    if (!isJPG) {\n      this.$message.error('上传头像图片只能是 JPG 格式!');\n    }\n    if (!isLt2M) {\n      this.$message.error('上传头像图片大小不能超过 2MB!');\n    }\n    return isJPG && isLt2M;\n  }\n\n  private created() {\n    this.visible = this.dialogVisible\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.formItem {\n  width: 200px;\n  float: left;\n}\n\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: rgb(153, 64, 255);\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 120px;\n  height: 120px;\n  line-height: 120px;\n  text-align: center;\n  border-radius: 100px;\n  border: 1px solid rgba(173,216,230, 1);\n}\n\n.avatar {\n  width: 120px;\n  height: 120px;\n  display: block;\n  border-radius: 100px;\n  border: 1px solid rgba(173,216,230, 1);\n}\n</style>"]}]}