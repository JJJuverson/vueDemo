{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\AdminTable\\components\\EditAdmin\\EditAdmin.vue?vue&type=style&index=0&id=6fd40108&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\AdminTable\\components\\EditAdmin\\EditAdmin.vue","mtime":1579599613000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5mb3JtSXRlbSB7CiAgd2lkdGg6IDIwMHB4OwogIGZsb2F0OiBsZWZ0Cn0K"},{"version":3,"sources":["EditAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA","file":"EditAdmin.vue","sourceRoot":"src/views/AdminTable/components/EditAdmin","sourcesContent":["<template>\n  <el-dialog title=\"编辑账号\" :visible.sync=\"dialogFormVisible\" v-dialogDrag width=\"25%\">\n    <el-form :model=\"form\">\n      <el-form-item label=\"账号ID\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.id\" autocomplete=\"off\" class=\"formItem\" placeholder=\"请输入账号id\" disabled></el-input>\n      </el-form-item>\n      <el-form-item label=\"名称\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.name\" autocomplete=\"off\" class=\"formItem\" placeholder=\"请输入账号名称\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"email\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.email\" autocomplete=\"off\" class=\"formItem\" placeholder=\"请输入邮箱\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button size=\"medium\" @click=\"dialogFormVisible = false\" >取 消</el-button>\n      <el-button size=\"medium\" type=\"primary\" @click=\"editAdmin\" :loading=\"loading\">编辑</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport service from '@/service/index'\n\ninterface Edit {\n  form: Object\n  formLabelWidth: String\n  dialogFormVisible: Boolean\n  loading: Boolean\n}\n\n@Component\nexport default class AddAdmin extends Vue implements Edit{\n  @Prop() private editVisible!: Boolean\n  @Prop() private row !: Object\n\n  formLabelWidth = '120px'\n  dialogFormVisible = this.editVisible\n  loading = false\n\n  // 该处代码使用了侦听器，修改为计算属性更加合理\n  @Watch('editVisible')\n  onVisibleChange(val: Boolean, oldVal: Boolean) {\n    this.dialogFormVisible = val\n  }\n\n  @Watch('dialogFormVisible')\n  onDialogFormVisibleChange(val: Boolean, oldVal: Boolean) {\n    if (!val) {\n      this.$emit('getChildData', val)\n    }\n  }\n\n  // 计算属性，拿到要修改的数据\n  get form() {\n    return this.row\n  }\n\n  // 编辑数据并修改\n  public editAdmin() {\n    let params = this.form\n    this.loading = true\n    service.putAdminList(params).then(res => {\n      this.loading = false\n      this.dialogFormVisible = false\n      let { code, msg } = res.data\n      if (code == 0) {\n        this.$message({\n          message: msg,\n          type: 'success'\n        })\n      }\n      this.$emit('flushList')  // 修改后刷新数据\n    }) \n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.formItem {\n  width: 200px;\n  float: left\n}\n</style>"]}]}