{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Home\\components\\HeadEdit\\HeadEdit.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Home\\components\\HeadEdit\\HeadEdit.vue","mtime":1581758461560},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKCkBDb21wb25lbnQKZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZEVkaXQgZXh0ZW5kcyBWdWV7CiAgQFByb3AoKSBkaWFsb2dWaXNpYmxlICE6IGJvb2xlYW4KICBAUHJvcCgpIGF2YXRhclVybCAhOiBzdHJpbmcKCiAgdmlzaWJsZTogYm9vbGVhbiA9IGZhbHNlCiAgbGFiZWxXaWR0aDogc3RyaW5nID0gJzEyMHB4JwoKICBAV2F0Y2goJ3Zpc2libGUnKQogIG9uVmlzaWJsZUNoYW5nZWQodmFsKSB7CiAgICBpZiAoIXZhbCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZURpYWxvZycsIHZhbCkKICAgIH0KICB9CgogIEBXYXRjaCgnZGlhbG9nVmlzaWJsZScpCiAgb25EaWFsb2dWaXNpYmxlQ2hhbmdlZCh2YWwpIHsKICAgIHRoaXMudmlzaWJsZSA9IHZhbAogIH0KCiAgcHVibGljIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgIGxldCBuZXdBdmF0YXIgPSAnaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL3VpZmFjZXMvZmFjZXMvdHdpdHRlci9wcmltb3pjaWdsZXIvMTI4LmpwZycgIC8q6K+l5aSE5LuF55So5LqO5qih5ouf5Yqf6IO977yM5a6e6ZmF5byA5Y+R6ZyA5o2i5oiQ55yf5a6edXJsKi8KCiAgICB0aGlzLiRlbWl0KCdjaGFuZ2VBdmF0YXInLCBuZXdBdmF0YXIpCiAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+ivpeWkhOS7heeUqOS6juaooeaLn+ivpeWKn+iDveWunueOsCEnKQogIH0KCiAgcHVibGljIGhhbmRsZUF2YXRhckVycm9yKHJlcykgewogICAgbGV0IG5ld0F2YXRhciA9ICdodHRwczovL3MzLmFtYXpvbmF3cy5jb20vdWlmYWNlcy9mYWNlcy90d2l0dGVyL3ByaW1vemNpZ2xlci8xMjguanBnJyAgLy8g6K+l5aSE5LuF55So5LqO5qih5ouf5Yqf6IO977yM5a6e6ZmF5byA5Y+R6ZyA5o2i5oiQ55yf5a6edXJsKi8KICAgIHRoaXMuJGVtaXQoJ2NoYW5nZUF2YXRhcicsIG5ld0F2YXRhcikKICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn6K+l5aSE5LuF55So5LqO5qih5ouf6K+l5Yqf6IO95a6e546wIScpCiAgfQoKICBwdWJsaWMgYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgIGNvbnN0IGlzSlBHID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZyc7CiAgICBjb25zdCBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7CgogICAgaWYgKCFpc0pQRykgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflj6rog73mmK8gSlBHIOagvOW8jyEnKTsKICAgIH0KICAgIGlmICghaXNMdDJNKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAyTUIhJyk7CiAgICB9CiAgICByZXR1cm4gaXNKUEcgJiYgaXNMdDJNOwogIH0KCiAgcHJpdmF0ZSBjcmVhdGVkKCkgewogICAgdGhpcy52aXNpYmxlID0gdGhpcy5kaWFsb2dWaXNpYmxlCiAgfQp9Cg=="},{"version":3,"sources":["HeadEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"HeadEdit.vue","sourceRoot":"src/views/Home/components/HeadEdit","sourcesContent":["<template>\n  <el-dialog title=\"编辑功能\" :visible.sync=\"visible\" v-dialogDrag width=\"25%\">\n    <el-form ref=\"form\">\n      <el-form-item label=\"头像\" :label-width=\"labelWidth\">\n        <el-upload\n          class=\"avatar-uploader formItem\"\n          action=\"https://www.baidu.com\"\n          :show-file-list=\"false\"\n          :on-success=\"handleAvatarSuccess\"\n          :on-error=\"handleAvatarError\"\n          :before-upload=\"beforeAvatarUpload\">\n          <img v-if=\"avatarUrl\" :src=\"avatarUrl\" class=\"avatar\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n      </el-form-item>\n    </el-form>\n\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button size=\"medium\" type=\"primary\" @click=\"visible = false\" >取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\n\n@Component\nexport default class HeadEdit extends Vue{\n  @Prop() dialogVisible !: boolean\n  @Prop() avatarUrl !: string\n\n  visible: boolean = false\n  labelWidth: string = '120px'\n\n  @Watch('visible')\n  onVisibleChanged(val) {\n    if (!val) {\n      this.$emit('closeDialog', val)\n    }\n  }\n\n  @Watch('dialogVisible')\n  onDialogVisibleChanged(val) {\n    this.visible = val\n  }\n\n  public handleAvatarSuccess(res, file) {\n   let newAvatar = 'https://s3.amazonaws.com/uifaces/faces/twitter/primozcigler/128.jpg'  /*该处仅用于模拟功能，实际开发需换成真实url*/\n\n    this.$emit('changeAvatar', newAvatar)\n    this.$message.info('该处仅用于模拟该功能实现!')\n  }\n\n  public handleAvatarError(res) {\n    let newAvatar = 'https://s3.amazonaws.com/uifaces/faces/twitter/primozcigler/128.jpg'  // 该处仅用于模拟功能，实际开发需换成真实url*/\n    this.$emit('changeAvatar', newAvatar)\n    this.$message.info('该处仅用于模拟该功能实现!')\n  }\n\n  public beforeAvatarUpload(file) {\n    const isJPG = file.type === 'image/jpeg';\n    const isLt2M = file.size / 1024 / 1024 < 2;\n\n    if (!isJPG) {\n      this.$message.error('上传头像图片只能是 JPG 格式!');\n    }\n    if (!isLt2M) {\n      this.$message.error('上传头像图片大小不能超过 2MB!');\n    }\n    return isJPG && isLt2M;\n  }\n\n  private created() {\n    this.visible = this.dialogVisible\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.formItem {\n  width: 200px;\n  float: left;\n}\n\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: rgb(153, 64, 255);\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 120px;\n  height: 120px;\n  line-height: 120px;\n  text-align: center;\n  border-radius: 100px;\n  border: 1px solid rgba(173,216,230, 1);\n}\n\n.avatar {\n  width: 120px;\n  height: 120px;\n  display: block;\n  border-radius: 100px;\n  border: 1px solid rgba(173,216,230, 1);\n}\n</style>"]}]}