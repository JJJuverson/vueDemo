{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Dashboard\\components\\CoolClock.vue?vue&type=style&index=0&id=6c3b2441&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\src\\views\\Dashboard\\components\\CoolClock.vue","mtime":1579599613000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue3.0-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jb29sQ2xvY2tXcmFwIHsKICAvLyB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KCNmOGY2ZjUsICNmN2Y1ZjQsICNlNGUzZTIsICNiOWI4YjcpOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9Cgo="},{"version":3,"sources":["CoolClock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CoolClock.vue","sourceRoot":"src/views/Dashboard/components","sourcesContent":["<template>\n  <div class=\"coolClockWrap\">\n    <canvas id=\"coolClockCanvas\" :width=\"canvas.width\" :height=\"canvas.height\"></canvas>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from 'vue-property-decorator'\n\n@Component\nexport default class CoolClock extends Vue{\n  canvas = {\n    width: 300,\n    height: 300\n  }\n\n  L = 0 //基础半径\n  timer: any = null\n\n  drawCoolClock() {\n    let canvas = <any>document.getElementById(\"coolClockCanvas\")\n    let ctx = canvas.getContext('2d')\n    let [x0, y0] = [this.canvas.width / 2, this.canvas.height / 2] //获取圆心x,y\n    this.L = this.canvas.width / 2 - 10 //设置圆半径\n    let [hourMaxL, hourMinL] = [this.L, this.L - 28] //获取时刻度首位距离x0,y0位置\n    let [minMaxL, minMinL] = [this.L - 2, this.L - 15]\n    let centerL = 15\n    let oDate = new Date() //绑定当前时间\n    let oHours = oDate.getHours()\n    let oMin = oDate.getMinutes()\n    let oSen = oDate.getSeconds()\n    let oHoursValue = -90 + oHours * 30 + oMin / 2 //获取小时的角度\n    let oMinValue = -90 + oMin * 6\n    let oSenValue = -90 + oSen * 6\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height) //清除画布\n    this.drawHoursScale(ctx, x0, y0, 12, 9, hourMaxL, hourMinL) //绘制表盘的时钟刻度scale\n    this.drawHoursScale(ctx, x0, y0, 60, 3, minMaxL, minMinL) //绘制表盘分钟刻度\n    this.drawScaleNum(ctx, hourMinL - 25, x0, y0) //绘制12个表盘数字\n    this.drawTimeNeedle(ctx, x0, y0, 15, 135, oHoursValue) //绘制时针 \n    this.drawTimeNeedle(ctx, x0, y0, 8, minMaxL - 15, oMinValue) //绘制分针  \n    this.drawTimeNeedle(ctx, x0, y0, 3, minMaxL - 2, oSenValue, '#f3a829') //绘制秒针\n    this.drawSenDotted(ctx, '#f3a829', x0, y0, oSenValue - 180, centerL) //绘制秒针尾部\n    this.drawCircleCenter(ctx, x0, y0, '#f3a829', centerL) //绘制圆心\n  }\n\n  drawHoursScale (ctx, x0, y0, scaleNum, scaleW, maxL, minL){\n    for (let i=0; i<scaleNum; i++) {\n      let angel = -90 + i * (360 / scaleNum) //角度\n      let [x1, y1] = [x0 + Math.cos(angel * Math.PI / 180) * maxL, y0 + Math.sin(angel * Math.PI / 180) * maxL]\n      let [x2, y2] = [x0 + Math.cos(angel * Math.PI / 180) * minL, y0 + Math.sin(angel * Math.PI / 180) * minL]\n      ctx.save()\n      ctx.beginPath()\n      ctx.lineWidth = scaleW\n      ctx.lineCap = \"round\"\n      ctx.moveTo(x1, y1)\n      ctx.lineTo(x2, y2)\n      ctx.stroke()\n      ctx.closePath()\n      ctx.restore()\n    }\n  }\n\n  drawScaleNum(ctx, L, x0, y0) {\n    for (let i = 0; i < 12; i++) {\n      let angel = -90 + i * (360 / 12) //角度\n      let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\n      let num = i == 0 ? 12 : i\n      ctx.save()\n      ctx.beginPath()\n      ctx.font = \"30px Arial\"\n      ctx.textAlign = \"center\"\n      ctx.textBaseline = \"middle\"\n      ctx.fillText(num, x, y)\n      ctx.closePath()\n      ctx.restore()\n    }\n  }\n\n  drawTimeNeedle(ctx, x0, y0, lineW, L, angel, color = '#000') {\n    let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\n    ctx.save()\n    ctx.beginPath()\n    ctx.strokeStyle = color\n    ctx.lineWidth = lineW\n    ctx.lineCap = \"round\"\n    ctx.moveTo(x0, y0)\n    ctx.lineTo(x, y)\n    ctx.stroke()\n    ctx.closePath()\n    ctx.restore()\n  }\n\n  drawCircleCenter(ctx, x0, y0, color, L) {\n    ctx.save()\n    ctx.beginPath()\n    ctx.shadowBlur = 4\n    ctx.shadowColor = \"#000\"\n    ctx.fillStyle = color\n    ctx.arc(x0, y0, L, 0, 360 * Math.PI / 180)\n    ctx.fill()\n    ctx.closePath()\n    ctx.restore()\n  }\n\n  drawSenDotted(ctx, color, x0, y0, angel, L) {\n    let [x, y] = [x0 + Math.cos(angel * Math.PI / 180) * L, y0 + Math.sin(angel * Math.PI / 180) * L]\n    ctx.save()\n    ctx.beginPath()\n    ctx.fillStyle = color\n    ctx.arc(x, y, 7, 0, 360 * Math.PI / 180)\n    ctx.fill()\n    ctx.closePath()\n    ctx.restore()\n  }\n\n  private mounted() {\n    this.drawCoolClock()\n    this.timer = setInterval(() => {\n      this.drawCoolClock()\n    }, 30)\n  }\n\n  private beforeDestroy() {\n    clearInterval(this.timer)\n    this.timer = null\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.coolClockWrap {\n  // width: 100%;\n  height: 100%;\n  background: radial-gradient(#f8f6f5, #f7f5f4, #e4e3e2, #b9b8b7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 10px;\n}\n\n</style>"]}]}