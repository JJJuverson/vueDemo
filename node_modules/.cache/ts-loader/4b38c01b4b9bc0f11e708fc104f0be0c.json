{"remainingRequest":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\src\\router\\permission.ts","dependencies":[{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\src\\router\\permission.ts","mtime":1579599613000},{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzpcXFVzZXJzXFx6ZnNcXERlc2t0b3BcXHZ1ZVxcdnVlM1xcdnVlMy4wLWFkbWluLW1hc3Rlclxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIGhhc1Blcm1pc3Npb24ocm91dGUsIHJvbGUpIHsKICBpZiAocm91dGUubWV0YSAmJiByb3V0ZS5tZXRhLnJvbGVzKSB7CiAgICByZXR1cm4gcm91dGUubWV0YS5yb2xlcy5pbmRleE9mKHJvbGUpICE9PSAtMTsKICB9IGVsc2UgewogICAgcmV0dXJuIHRydWU7CiAgfQp9IC8vIOivpeWkhOeahHJvbGXkuLrnmbvlvZXop5LoibLvvIzlj6/moLnmja7lrp7pmYXpnIDopoHov5vooYzliqjmgIHnlJ/miJAKCgpleHBvcnQgdmFyIGdlbmVyYXRlUm91dGVzID0gZnVuY3Rpb24gZ2VuZXJhdGVSb3V0ZXMoYXN5bmNSb3V0ZXMsIHJvbGUpIHsKICB2YXIgcmVzID0gW107CiAgYXN5bmNSb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgdmFyIG1pZCA9IF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pOwoKICAgIGlmIChoYXNQZXJtaXNzaW9uKG1pZCwgcm9sZSkpIHsKICAgICAgaWYgKG1pZC5jaGlsZHJlbikgewogICAgICAgIG1pZC5jaGlsZHJlbiA9IGdlbmVyYXRlUm91dGVzKG1pZC5jaGlsZHJlbiwgcm9sZSk7IC8vIOWvueWtkOi3r+eUsei/m+ihjOmAkuW9ku+8jOmYsuatoumBl+a8j++8iOWQjOaXtuivpemDqOWIhuaUr+aMgeWkmue6p+WtkOi3r+eUseeahOmAkuW9kueUn+aIkO+8iQogICAgICB9CgogICAgICByZXMucHVzaChtaWQpOwogICAgfQogIH0pOwogIHJldHVybiByZXM7Cn07"},{"version":3,"sources":["C:\\Users\\zfs\\Desktop\\vue\\vue3\\vue3.0-admin-master\\src\\router\\permission.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,SAAS,aAAT,CAAuB,KAAvB,EAA8B,IAA9B,EAAkC;AAChC,MAAI,KAAK,CAAC,IAAN,IAAc,KAAK,CAAC,IAAN,CAAW,KAA7B,EAAoC;AAClC,WAAO,KAAK,CAAC,IAAN,CAAW,KAAX,CAAiB,OAAjB,CAAyB,IAAzB,MAAmC,CAAC,CAA3C;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF,C,CAED;;;AACA,OAAO,IAAM,cAAc,GAAG,SAAjB,cAAiB,CAAS,WAAT,EAAiC,IAAjC,EAA4C;AACxE,MAAM,GAAG,GAAc,EAAvB;AACA,EAAA,WAAW,CAAC,OAAZ,CAAoB,UAAA,IAAI,EAAG;AACzB,QAAM,GAAG,qBAAO,IAAP,CAAT;;AACA,QAAI,aAAa,CAAC,GAAD,EAAM,IAAN,CAAjB,EAA8B;AAC5B,UAAI,GAAG,CAAC,QAAR,EAAkB;AAChB,QAAA,GAAG,CAAC,QAAJ,GAAe,cAAc,CAAC,GAAG,CAAC,QAAL,EAAe,IAAf,CAA7B,CADgB,CACmC;AACpD;;AACD,MAAA,GAAG,CAAC,IAAJ,CAAS,GAAT;AACD;AACF,GARD;AASA,SAAO,GAAP;AACD,CAZM","sourcesContent":["function hasPermission(route, role) {\n  if (route.meta && route.meta.roles) {\n    return route.meta.roles.indexOf(role) !== -1\n  } else {\n    return true\n  }\n}\n\n// 该处的role为登录角色，可根据实际需要进行动态生成\nexport const generateRoutes = function(asyncRoutes:Array<any>, role:string): Array<any> {\n  const res:Array<any> = []\n  asyncRoutes.forEach(item => {\n    const mid = {...item}\n    if (hasPermission(mid, role)) {\n      if (mid.children) {\n        mid.children = generateRoutes(mid.children, role)  // 对子路由进行递归，防止遗漏（同时该部分支持多级子路由的递归生成）\n      }\n      res.push(mid)\n    }\n  })\n  return res\n}"],"sourceRoot":""}]}